@page "/agents/edit/{agentId}"
@using Backend.Domain.Entities.Agents;
@using Frontend.Web.Services.Agents;
@using Frontend.Web.Services.Authentication;
@inject NavigationManager NavigationManager
@inject AgentService _agentService
@inject AuthenticationService _authenticationService;

<PageTitle>Aurora - Edit Agent</PageTitle>
<div class="container-fluid">
    <Frontend.Web.Components.Agents.Forms.Edit.EditAgent Agent="Model.Agent" />

    adicionar componente de profile que recebe profileid aq, caso profile id == null ou qlqr string.empty, mostrar 
    msg "Criar perfil para o agente" e ai nois mostra o componente vazio pra ele criar.
</div>

@code
{
    [Parameter]
    public string agentId { get; set; }
}

@code
{
    public AgentDetail Model = new AgentDetail();
    protected override async Task OnInitializedAsync()
    {
        var context = await _authenticationService.GetContext();
        Model = await _agentService.GetAgentWithDetail(context.Tenant.Id.ToString(), agentId.ToString());
    }
}

